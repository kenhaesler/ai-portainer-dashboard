# Shared security headers — included in every location block.
# Defined here (not at the server level) to avoid nginx's add_header
# inheritance pitfall: any add_header in a location block silently
# clears ALL server-level add_header directives.
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;
add_header Referrer-Policy "strict-origin-when-cross-origin" always;
# CSP: style-src 'unsafe-inline' required by Tailwind/Framer Motion runtime styles.
# connect-src allows both ws: and wss: — for TLS-only deployments, remove ws: and keep wss: only.
add_header Content-Security-Policy "default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob: https://media1.tenor.com; connect-src 'self' ws: wss:; font-src 'self' data:;" always;
